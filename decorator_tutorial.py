# ============================================
# Pythonãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼å®Œå…¨è§£èª¬ - æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘
# ============================================

import time  # æ™‚é–“è¨ˆæ¸¬ç”¨
from functools import wraps  # ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½œã‚‹æ™‚ã®å¿…é ˆãƒ„ãƒ¼ãƒ«
from typing import Callable, Any  # å‹ãƒ’ãƒ³ãƒˆç”¨


# ============================================
# ã€åŸºç¤ç·¨ã€‘ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã¯ï¼Ÿ
# ============================================

print("=" * 60)
print("ã€1ã€‘ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®åŸºæœ¬æ¦‚å¿µ")
print("=" * 60)

# ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ã€Œé–¢æ•°ã‚’è£…é£¾(ãƒ‡ã‚³ãƒ¬ãƒ¼ãƒˆ)ã™ã‚‹é–¢æ•°ã€
# ã¤ã¾ã‚Šã€æ—¢å­˜ã®é–¢æ•°ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ãƒ©ãƒƒãƒ‘ãƒ¼(åŒ…ã¿)ã®ã‚ˆã†ãªã‚‚ã®

# ã¾ãšã¯ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãªã—ã§æ›¸ã„ã¦ã¿ã‚‹
def say_hello():
    """æ™®é€šã®é–¢æ•°"""
    print("ã“ã‚“ã«ã¡ã¯ï¼")

say_hello()  # ã“ã‚“ã«ã¡ã¯ï¼


# æ¬¡ã«ã€ã“ã®é–¢æ•°ã®å‰å¾Œã«å‡¦ç†ã‚’è¿½åŠ ã—ãŸã„å ´åˆ...
def say_hello_with_decoration():
    """æ‰‹å‹•ã§è£…é£¾ã—ãŸé–¢æ•°"""
    print("--- é–‹å§‹ ---")  # å‰å‡¦ç†
    print("ã“ã‚“ã«ã¡ã¯ï¼")  # æœ¬æ¥ã®å‡¦ç†
    print("--- çµ‚äº† ---")  # å¾Œå‡¦ç†

say_hello_with_decoration()


# ã§ã‚‚æ¯å›ã“ã†æ›¸ãã®ã¯é¢å€’... ãã“ã§ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼


# ============================================
# ã€å®Ÿè·µ1ã€‘æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼
# ============================================

print("\n" + "=" * 60)
print("ã€2ã€‘æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼")
print("=" * 60)

def my_decorator(func):
    """
    ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼é–¢æ•°
    
    Args:
        func: è£…é£¾ã—ãŸã„é–¢æ•°
        
    Returns:
        wrapper: è£…é£¾ã•ã‚ŒãŸæ–°ã—ã„é–¢æ•°
    """
    def wrapper():
        """ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•° - å…ƒã®é–¢æ•°ã‚’åŒ…ã‚€"""
        print("--- é–‹å§‹ ---")  # å‰å‡¦ç†
        func()  # å…ƒã®é–¢æ•°ã‚’å®Ÿè¡Œ
        print("--- çµ‚äº† ---")  # å¾Œå‡¦ç†
    return wrapper  # ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°ã‚’è¿”ã™


# ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä½¿ã„æ–¹1: æ‰‹å‹•ã§é©ç”¨
def greet():
    print("ãŠã¯ã‚ˆã†ï¼")

# é–¢æ•°ã‚’ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«æ¸¡ã™
decorated_greet = my_decorator(greet)
decorated_greet()


# ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä½¿ã„æ–¹2: @è¨˜æ³•ï¼ˆã“ã‚ŒãŒä¸€èˆ¬çš„ï¼ï¼‰
@my_decorator  # ã“ã®1è¡Œã§ä¸Šè¨˜ã¨åŒã˜ã“ã¨ãŒã§ãã‚‹
def say_goodbye():
    print("ã•ã‚ˆã†ãªã‚‰ï¼")

say_goodbye()  # è‡ªå‹•çš„ã«è£…é£¾ã•ã‚Œã‚‹


# ============================================
# ã€å®Ÿè·µ2ã€‘å¼•æ•°ã‚’æŒã¤é–¢æ•°ã‚’ãƒ‡ã‚³ãƒ¬ãƒ¼ãƒˆã™ã‚‹
# ============================================

print("\n" + "=" * 60)
print("ã€3ã€‘å¼•æ•°ã‚’æŒã¤é–¢æ•°ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ãƒˆ")
print("=" * 60)

def smart_decorator(func):
    """
    å¼•æ•°ã‚’å—ã‘å–ã‚Œã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼
    *args, **kwargs ã‚’ä½¿ã£ã¦ä»»æ„ã®å¼•æ•°ã«å¯¾å¿œ
    """
    @wraps(func)  # å…ƒã®é–¢æ•°ã®æƒ…å ±(åå‰ã€docstringç­‰)ã‚’ä¿æŒã™ã‚‹
    def wrapper(*args, **kwargs):
        """
        *args: ä½ç½®å¼•æ•°ã‚’ã‚¿ãƒ—ãƒ«ã§å—ã‘å–ã‚‹
        **kwargs: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¼•æ•°ã‚’è¾æ›¸ã§å—ã‘å–ã‚‹
        """
        print(f"[DEBUG] é–¢æ•° '{func.__name__}' ã‚’å®Ÿè¡Œã—ã¾ã™")
        print(f"[DEBUG] å¼•æ•°: args={args}, kwargs={kwargs}")
        
        result = func(*args, **kwargs)  # å…ƒã®é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦çµæœã‚’å—ã‘å–ã‚‹
        
        print(f"[DEBUG] é–¢æ•° '{func.__name__}' ãŒçµ‚äº†ã—ã¾ã—ãŸ")
        print(f"[DEBUG] æˆ»ã‚Šå€¤: {result}")
        return result  # çµæœã‚’è¿”ã™
    return wrapper


@smart_decorator
def add(a, b):
    """2ã¤ã®æ•°ã‚’è¶³ã™é–¢æ•°"""
    return a + b


@smart_decorator
def greet_person(name, greeting="ã“ã‚“ã«ã¡ã¯"):
    """æŒ¨æ‹¶ã™ã‚‹é–¢æ•°"""
    message = f"{greeting}ã€{name}ã•ã‚“ï¼"
    print(message)
    return message


# å®Ÿè¡Œ
print("\n--- addé–¢æ•°ã®å®Ÿè¡Œ ---")
result = add(5, 3)

print("\n--- greet_personé–¢æ•°ã®å®Ÿè¡Œ ---")
result = greet_person("ç”°ä¸­", greeting="ãŠã¯ã‚ˆã†")


# ============================================
# ã€å®Ÿè·µ3ã€‘å®Ÿç”¨çš„ãªãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ä¾‹
# ============================================

print("\n" + "=" * 60)
print("ã€4ã€‘å®Ÿç”¨çš„ãªãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼é›†")
print("=" * 60)

# --- 3-1. å®Ÿè¡Œæ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ ---
def timer(func):
    """é–¢æ•°ã®å®Ÿè¡Œæ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()  # é–‹å§‹æ™‚åˆ»ã‚’è¨˜éŒ²
        result = func(*args, **kwargs)  # é–¢æ•°ã‚’å®Ÿè¡Œ
        end_time = time.time()  # çµ‚äº†æ™‚åˆ»ã‚’è¨˜éŒ²
        elapsed = end_time - start_time  # çµŒéæ™‚é–“ã‚’è¨ˆç®—
        print(f"â±ï¸  {func.__name__}ã®å®Ÿè¡Œæ™‚é–“: {elapsed:.4f}ç§’")
        return result
    return wrapper


@timer
def slow_function():
    """é‡ã„å‡¦ç†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ"""
    print("å‡¦ç†ä¸­...")
    time.sleep(1)  # 1ç§’å¾…ã¤
    print("å‡¦ç†å®Œäº†ï¼")


print("\n--- å®Ÿè¡Œæ™‚é–“è¨ˆæ¸¬ ---")
slow_function()


# --- 3-2. ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ ---
def retry(max_attempts=3):
    """
    å¤±æ•—æ™‚ã«è‡ªå‹•ã§ãƒªãƒˆãƒ©ã‚¤ã™ã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼
    ã“ã‚Œã¯ã€Œå¼•æ•°ã‚’æŒã¤ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã€ã®ä¾‹
    """
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            for attempt in range(1, max_attempts + 1):
                try:
                    print(f"ğŸ”„ è©¦è¡Œ {attempt}/{max_attempts}")
                    result = func(*args, **kwargs)
                    print(f"âœ… æˆåŠŸï¼")
                    return result
                except Exception as e:
                    print(f"âŒ ã‚¨ãƒ©ãƒ¼: {e}")
                    if attempt == max_attempts:
                        print(f"â›” {max_attempts}å›è©¦è¡Œã—ã¾ã—ãŸãŒå¤±æ•—ã—ã¾ã—ãŸ")
                        raise  # æœ€å¾Œã®è©¦è¡Œã§å¤±æ•—ã—ãŸã‚‰ä¾‹å¤–ã‚’æŠ•ã’ã‚‹
                    time.sleep(0.5)  # å°‘ã—å¾…ã£ã¦ã‹ã‚‰ãƒªãƒˆãƒ©ã‚¤
        return wrapper
    return decorator


# ä½¿ç”¨ä¾‹: æœ€å¤§3å›ã¾ã§ãƒªãƒˆãƒ©ã‚¤
attempt_count = 0

@retry(max_attempts=3)
def unstable_function():
    """æ™‚ã€…å¤±æ•—ã™ã‚‹é–¢æ•°ï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰"""
    global attempt_count
    attempt_count += 1
    if attempt_count < 3:  # 3å›ç›®ã§æˆåŠŸã™ã‚‹
        raise ValueError("ã¾ã å¤±æ•—ã™ã‚‹ã‚ˆï¼")
    return "æˆåŠŸã—ã¾ã—ãŸï¼"


print("\n--- ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ ---")
try:
    result = unstable_function()
    print(f"çµæœ: {result}")
except Exception as e:
    print(f"æœ€çµ‚çš„ã«ã‚¨ãƒ©ãƒ¼: {e}")

attempt_count = 0  # ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ


# --- 3-3. ãƒ­ã‚°ã‚’å‡ºåŠ›ã™ã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ ---
def log_function_call(func):
    """é–¢æ•°ã®å‘¼ã³å‡ºã—ã‚’ãƒ­ã‚°ã«è¨˜éŒ²ã™ã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        # å¼•æ•°ã‚’è¦‹ã‚„ã™ããƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
        args_str = ", ".join([repr(a) for a in args])
        kwargs_str = ", ".join([f"{k}={v!r}" for k, v in kwargs.items()])
        all_args = ", ".join(filter(None, [args_str, kwargs_str]))
        
        print(f"ğŸ“ LOG: {func.__name__}({all_args}) ã‚’å‘¼ã³å‡ºã—ã¾ã—ãŸ")
        result = func(*args, **kwargs)
        print(f"ğŸ“ LOG: {func.__name__} ãŒ {result!r} ã‚’è¿”ã—ã¾ã—ãŸ")
        return result
    return wrapper


@log_function_call
def calculate(x, y, operation="add"):
    """è¨ˆç®—ã‚’è¡Œã†é–¢æ•°"""
    if operation == "add":
        return x + y
    elif operation == "multiply":
        return x * y
    else:
        return None


print("\n--- ãƒ­ã‚°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ ---")
calculate(10, 5)
calculate(10, 5, operation="multiply")


# --- 3-4. çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ ---
def cache(func):
    """
    é–¢æ•°ã®çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ã€åŒã˜å¼•æ•°ã®å ´åˆã¯å†è¨ˆç®—ã—ãªã„
    ãƒ¡ãƒ¢åŒ–(memoization)ã¨ã‚‚å‘¼ã°ã‚Œã‚‹
    """
    cached_results = {}  # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä¿å­˜ã™ã‚‹è¾æ›¸
    
    @wraps(func)
    def wrapper(*args):
        if args in cached_results:  # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«çµæœãŒã‚ã‚‹å ´åˆ
            print(f"ğŸ’¾ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å–å¾—: {args}")
            return cached_results[args]
        
        print(f"ğŸ”„ è¨ˆç®—ä¸­: {args}")
        result = func(*args)  # é–¢æ•°ã‚’å®Ÿè¡Œ
        cached_results[args] = result  # çµæœã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
        return result
    return wrapper


@cache
def fibonacci(n):
    """ãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ï¼ˆå†å¸°ç‰ˆï¼‰"""
    if n < 2:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)


print("\n--- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ ---")
print(f"fibonacci(5) = {fibonacci(5)}")
print(f"fibonacci(5) = {fibonacci(5)}")  # 2å›ç›®ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å–å¾—


# ============================================
# ã€å®Ÿè·µ4ã€‘è¤‡æ•°ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’é‡ã­ã‚‹
# ============================================

print("\n" + "=" * 60)
print("ã€5ã€‘è¤‡æ•°ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’çµ„ã¿åˆã‚ã›ã‚‹")
print("=" * 60)

# ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯è¤‡æ•°é‡ã­ã¦ä½¿ãˆã‚‹
# ä¸‹ã‹ã‚‰é †ã«é©ç”¨ã•ã‚Œã‚‹ï¼ˆé‡è¦ï¼ï¼‰

@timer  # 2ç•ªç›®ã«é©ç”¨ã•ã‚Œã‚‹ï¼ˆå¤–å´ï¼‰
@log_function_call  # 1ç•ªç›®ã«é©ç”¨ã•ã‚Œã‚‹ï¼ˆå†…å´ï¼‰
def complex_calculation(x, y):
    """è¤‡é›‘ãªè¨ˆç®—ï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰"""
    time.sleep(0.5)  # å‡¦ç†æ™‚é–“ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
    return x ** y


print("\n--- è¤‡æ•°ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ãƒ†ã‚¹ãƒˆ ---")
result = complex_calculation(2, 10)


# ============================================
# ã€å®Ÿè·µ5ã€‘ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼
# ============================================

print("\n" + "=" * 60)
print("ã€6ã€‘ã‚¯ãƒ©ã‚¹ã¨ä¸€ç·’ã«ä½¿ã†ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼")
print("=" * 60)

class Student:
    """å­¦ç”Ÿã‚¯ãƒ©ã‚¹"""
    
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    @log_function_call  # ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚‚ä½¿ãˆã‚‹
    def introduce(self):
        """è‡ªå·±ç´¹ä»‹"""
        return f"ç§ã¯{self.name}ã€{self.age}æ­³ã§ã™"
    
    @staticmethod
    @timer  # é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚‚ä½¿ãˆã‚‹
    def calculate_average(scores):
        """å¹³å‡ç‚¹ã‚’è¨ˆç®—"""
        time.sleep(0.3)
        return sum(scores) / len(scores)
    
    @classmethod
    @log_function_call  # ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚‚ä½¿ãˆã‚‹
    def create_student(cls, name, age):
        """ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰"""
        print(f"æ–°ã—ã„å­¦ç”Ÿã‚’ä½œæˆã—ã¾ã™")
        return cls(name, age)


print("\n--- ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ ---")
student = Student("å±±ç”°å¤ªéƒ", 20)
student.introduce()

print("\n--- é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã§ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ ---")
avg = Student.calculate_average([80, 90, 85])
print(f"å¹³å‡ç‚¹: {avg}")

print("\n--- ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ ---")
new_student = Student.create_student("ä½è—¤èŠ±å­", 19)


# ============================================
# ã€å®Ÿè·µ6ã€‘å¼•æ•°ã‚’æŒã¤ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä½œã‚Šæ–¹
# ============================================

print("\n" + "=" * 60)
print("ã€7ã€‘å¼•æ•°ã‚’æŒã¤ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä»•çµ„ã¿")
print("=" * 60)

def repeat(times=2):
    """
    é–¢æ•°ã‚’æŒ‡å®šå›æ•°ç¹°ã‚Šè¿”ã™ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼
    
    ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã«å¼•æ•°ã‚’æ¸¡ã™å ´åˆã¯ã€3éšå±¤ã®é–¢æ•°ãŒå¿…è¦:
    1. å¤–å´: å¼•æ•°ã‚’å—ã‘å–ã‚‹
    2. ä¸­é–“: é–¢æ•°ã‚’å—ã‘å–ã‚‹ï¼ˆå®Ÿéš›ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰
    3. å†…å´: ãƒ©ãƒƒãƒ‘ãƒ¼é–¢æ•°
    """
    def decorator(func):  # å®Ÿéš›ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼
        @wraps(func)
        def wrapper(*args, **kwargs):  # ãƒ©ãƒƒãƒ‘ãƒ¼
            results = []
            for i in range(times):
                print(f"--- {i + 1}å›ç›® ---")
                result = func(*args, **kwargs)
                results.append(result)
            return results
        return wrapper
    return decorator  # ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’è¿”ã™


@repeat(times=3)  # 3å›ç¹°ã‚Šè¿”ã™
def say_hello(name):
    """æŒ¨æ‹¶ã™ã‚‹"""
    message = f"ã“ã‚“ã«ã¡ã¯ã€{name}ã•ã‚“ï¼"
    print(message)
    return message


print("\n--- ç¹°ã‚Šè¿”ã—ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ ---")
results = say_hello("ç”°ä¸­")
print(f"\nå…¨ã¦ã®çµæœ: {results}")


# ============================================
# ã€ã¾ã¨ã‚ã€‘ã‚ˆãä½¿ã†æ¨™æº–ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼
# ============================================

print("\n" + "=" * 60)
print("ã€8ã€‘Pythonã®æ¨™æº–ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼")
print("=" * 60)

class Example:
    """æ¨™æº–ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä¾‹"""
    
    class_variable = "ã‚¯ãƒ©ã‚¹å¤‰æ•°"
    
    def __init__(self):
        self.instance_variable = "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°"
    
    # @property - ã‚²ãƒƒã‚¿ãƒ¼ï¼ˆå€¤ã‚’å–å¾—ï¼‰
    @property
    def name(self):
        """ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ - ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å±æ€§ã®ã‚ˆã†ã«ä½¿ãˆã‚‹"""
        return "Example ã‚¯ãƒ©ã‚¹"
    
    # @staticmethod - é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆselfãªã—ï¼‰
    @staticmethod
    def static_method():
        """é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ - ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ä¾å­˜ã—ãªã„"""
        return "ã“ã‚Œã¯é™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™"
    
    # @classmethod - ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆclsã‚’å—ã‘å–ã‚‹ï¼‰
    @classmethod
    def class_method(cls):
        """ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ - ã‚¯ãƒ©ã‚¹è‡ªä½“ã‚’æ“ä½œ"""
        return f"ã“ã‚Œã¯{cls.__name__}ã®ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™"


print("\n--- æ¨™æº–ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä½¿ç”¨ä¾‹ ---")
example = Example()
print(f"@property: {example.name}")  # ãƒ¡ã‚½ãƒƒãƒ‰ã ãŒ()ä¸è¦
print(f"@staticmethod: {Example.static_method()}")
print(f"@classmethod: {Example.class_method()}")


# ============================================
# ã€çµ‚äº†ã€‘
# ============================================

print("\n" + "=" * 60)
print("ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼å­¦ç¿’å®Œäº†ï¼ğŸ‰")
print("=" * 60)

print("""
ã€ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ãƒã‚¤ãƒ³ãƒˆã€‘
âœ… ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯é–¢æ•°ã‚’è£…é£¾ã™ã‚‹é–¢æ•°
âœ… @è¨˜æ³•ã§ç°¡å˜ã«é©ç”¨ã§ãã‚‹
âœ… @wraps(func)ã‚’ä½¿ã£ã¦å…ƒã®æƒ…å ±ã‚’ä¿æŒ
âœ… *args, **kwargsã§ä»»æ„ã®å¼•æ•°ã«å¯¾å¿œ
âœ… å®Ÿè¡Œæ™‚é–“è¨ˆæ¸¬ã€ãƒ­ã‚°ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã©ã«ä¾¿åˆ©
âœ… è¤‡æ•°é‡ã­ã‚‹ã“ã¨ã‚‚å¯èƒ½
âœ… å¼•æ•°ã‚’æŒã¤å ´åˆã¯3éšå±¤ã®é–¢æ•°ãŒå¿…è¦
""")